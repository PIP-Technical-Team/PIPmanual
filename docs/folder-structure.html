<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Folder Structure | PIP Manual</title>
  <meta name="description" content="These are the guidelines to all the technical decisions taken during the creation of packges for the PIP workflow." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Folder Structure | PIP Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are the guidelines to all the technical decisions taken during the creation of packges for the PIP workflow." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Folder Structure | PIP Manual" />
  
  <meta name="twitter:description" content="These are the guidelines to all the technical decisions taken during the creation of packges for the PIP workflow." />
  

<meta name="author" content="DECIS" />
<meta name="author" content="Poverty GP" />
<meta name="date" content="2021-08-20" />

  

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="internal-workflow.html"/>
<link rel="next" href="joining-data.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="https://unpkg.com/tachyons@4/css/tachyons.min.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/r-colors.css" type="text/css" />
<link rel="stylesheet" href="css/smltar.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">PIP Internal Guidelines</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#team"><i class="fa fa-check"></i>Team</a></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#part-introduction"><i class="fa fa-check"></i>(PART) Introduction</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#ojectives"><i class="fa fa-check"></i><b>0.1</b> Ojectives</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#technical-requirements"><i class="fa fa-check"></i><b>0.2</b> Technical requirements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="internal-workflow.html"><a href="internal-workflow.html"><i class="fa fa-check"></i><b>1</b> Internal Workflow</a>
<ul>
<li class="chapter" data-level="1.1" data-path="internal-workflow.html"><a href="internal-workflow.html#the-github-group"><i class="fa fa-check"></i><b>1.1</b> The Github group</a></li>
<li class="chapter" data-level="1.2" data-path="internal-workflow.html"><a href="internal-workflow.html#overview"><i class="fa fa-check"></i><b>1.2</b> Overview</a></li>
<li class="chapter" data-level="1.3" data-path="internal-workflow.html"><a href="internal-workflow.html#data-acquisition"><i class="fa fa-check"></i><b>1.3</b> Data acquisition</a></li>
<li class="chapter" data-level="1.4" data-path="internal-workflow.html"><a href="internal-workflow.html#data-preparation"><i class="fa fa-check"></i><b>1.4</b> Data preparation</a></li>
<li class="chapter" data-level="1.5" data-path="internal-workflow.html"><a href="internal-workflow.html#pre-computed-indicators"><i class="fa fa-check"></i><b>1.5</b> Pre-computed indicators</a></li>
<li class="chapter" data-level="1.6" data-path="internal-workflow.html"><a href="internal-workflow.html#api-feeding"><i class="fa fa-check"></i><b>1.6</b> API feeding</a></li>
<li class="chapter" data-level="1.7" data-path="internal-workflow.html"><a href="internal-workflow.html#packages-interaction"><i class="fa fa-check"></i><b>1.7</b> Packages interaction</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="folder-structure.html"><a href="folder-structure.html"><i class="fa fa-check"></i><b>2</b> Folder Structure</a>
<ul>
<li class="chapter" data-level="2.1" data-path="folder-structure.html"><a href="folder-structure.html#pip-data"><i class="fa fa-check"></i><b>2.1</b> PIP-Data</a></li>
<li class="chapter" data-level="2.2" data-path="folder-structure.html"><a href="folder-structure.html#pip-data_qa"><i class="fa fa-check"></i><b>2.2</b> PIP-Data_QA</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="folder-structure.html"><a href="folder-structure.html#aux"><i class="fa fa-check"></i><b>2.2.1</b> _aux</a></li>
<li class="chapter" data-level="2.2.2" data-path="folder-structure.html"><a href="folder-structure.html#inventory"><i class="fa fa-check"></i><b>2.2.2</b> _inventory</a></li>
<li class="chapter" data-level="2.2.3" data-path="folder-structure.html"><a href="folder-structure.html#country-data"><i class="fa fa-check"></i><b>2.2.3</b> Country data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="folder-structure.html"><a href="folder-structure.html#pip-data_extsol"><i class="fa fa-check"></i><b>2.3</b> PIP-Data_ExtSOL</a></li>
<li class="chapter" data-level="2.4" data-path="folder-structure.html"><a href="folder-structure.html#pip_data_testing"><i class="fa fa-check"></i><b>2.4</b> PIP_Data_Testing</a></li>
<li class="chapter" data-level="2.5" data-path="folder-structure.html"><a href="folder-structure.html#pip_data_vintage"><i class="fa fa-check"></i><b>2.5</b> PIP_Data_Vintage</a></li>
<li class="chapter" data-level="2.6" data-path="folder-structure.html"><a href="folder-structure.html#pip_ingestion_pipeline"><i class="fa fa-check"></i><b>2.6</b> pip_ingestion_pipeline</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="folder-structure.html"><a href="folder-structure.html#pc_data"><i class="fa fa-check"></i><b>2.6.1</b> pc_data</a></li>
<li class="chapter" data-level="2.6.2" data-path="folder-structure.html"><a href="folder-structure.html#tb_data"><i class="fa fa-check"></i><b>2.6.2</b> tb_data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>3</b> Joining Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="joining-data.html"><a href="joining-data.html#pfw-join"><i class="fa fa-check"></i><b>3.1</b> The Price FrameWork (pfw) data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="joining-data.html"><a href="joining-data.html#joining-data-example"><i class="fa fa-check"></i><b>3.1.1</b> Joining data example</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="joining-data.html"><a href="joining-data.html#special-data-cases"><i class="fa fa-check"></i><b>3.2</b> Special data cases</a></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#part-pip-data"><i class="fa fa-check"></i>(PART) PIP data</a>
<ul>
<li class="chapter" data-level="3.3" data-path="joining-data.html"><a href="joining-data.html#variables"><i class="fa fa-check"></i><b>3.3</b> Variables</a>
<ul>
<li class="chapter" data-level="" data-path="joining-data.html"><a href="joining-data.html#id-vars"><i class="fa fa-check"></i>ID vars</a></li>
<li><a href="joining-data.html#altname"><code>altname</code></a></li>
<li><a href="joining-data.html#wbint_link"><code>wbint_link</code></a></li>
<li><a href="joining-data.html#wbext_link"><code>wbext_link</code></a></li>
<li><a href="joining-data.html#alt_link"><code>alt_link</code></a></li>
<li><a href="joining-data.html#surv_title"><code>surv_title</code></a></li>
<li><a href="joining-data.html#surv_producer"><code>surv_producer</code></a></li>
<li><a href="joining-data.html#survey_coverage"><code>survey_coverage</code></a></li>
<li><a href="joining-data.html#welfare_type"><code>welfare_type</code></a></li>
<li><a href="joining-data.html#use_imputed"><code>use_imputed</code></a></li>
<li><a href="joining-data.html#use_microdata"><code>use_microdata</code></a></li>
<li><a href="joining-data.html#use_bin"><code>use_bin</code></a></li>
<li><a href="joining-data.html#use_groupdata"><code>use_groupdata</code></a></li>
<li><a href="joining-data.html#reporting_year"><code>reporting_year</code></a></li>
<li><a href="joining-data.html#survey_comparability"><code>survey_comparability</code></a></li>
<li><a href="joining-data.html#comp_note"><code>comp_note</code></a></li>
<li><a href="joining-data.html#preferable"><code>preferable</code></a></li>
<li><a href="joining-data.html#show_portal"><code>show_portal</code></a></li>
<li><a href="joining-data.html#fieldwork_range"><code>fieldwork_range</code></a></li>
<li><a href="joining-data.html#survey_year"><code>survey_year</code></a></li>
<li><a href="joining-data.html#newref"><code>newref</code></a></li>
<li><a href="joining-data.html#ref_year_des"><code>ref_year_des</code></a></li>
<li><a href="joining-data.html#wf_baseprice"><code>wf_baseprice</code></a></li>
<li><a href="joining-data.html#wf_baseprice_note"><code>wf_baseprice_note</code></a></li>
<li><a href="joining-data.html#wf_baseprice_des"><code>wf_baseprice_des</code></a></li>
<li><a href="joining-data.html#wf_spatial_des"><code>wf_spatial_des</code></a></li>
<li><a href="joining-data.html#wf_spatial_var"><code>wf_spatial_var</code></a></li>
<li><a href="joining-data.html#cpi_replication"><code>cpi_replication</code></a></li>
<li><a href="joining-data.html#cpi_domain"><code>cpi_domain</code></a></li>
<li><a href="joining-data.html#cpi_domain_var"><code>cpi_domain_var</code></a></li>
<li><a href="joining-data.html#wf_currency_des"><code>wf_currency_des</code></a></li>
<li><a href="joining-data.html#ppp_replication"><code>ppp_replication</code></a></li>
<li><a href="joining-data.html#ppp_domain"><code>ppp_domain</code></a></li>
<li><a href="joining-data.html#ppp_domain_var"><code>ppp_domain_var</code></a></li>
<li><a href="joining-data.html#wf_add_temp_des"><code>wf_add_temp_des</code></a></li>
<li><a href="joining-data.html#wf_add_temp_var"><code>wf_add_temp_var</code></a></li>
<li><a href="joining-data.html#wf_add_spatial_des"><code>wf_add_spatial_des</code></a></li>
<li><a href="joining-data.html#wf_add_spatial_var"><code>wf_add_spatial_var</code></a></li>
<li><a href="joining-data.html#tosplit"><code>tosplit</code></a></li>
<li><a href="joining-data.html#tosplit_var"><code>tosplit_var</code></a></li>
<li><a href="joining-data.html#inpovcal"><code>inpovcal</code></a></li>
<li><a href="joining-data.html#oth_welfare1_type"><code>oth_welfare1_type</code></a></li>
<li><a href="joining-data.html#oth_welfare1_var"><code>oth_welfare1_var</code></a></li>
<li><a href="joining-data.html#gdp_domain"><code>gdp_domain</code></a></li>
<li><a href="joining-data.html#pce_domain"><code>pce_domain</code></a></li>
<li><a href="joining-data.html#pop_domain"><code>pop_domain</code></a></li>
<li><a href="joining-data.html#note"><code>Note</code></a></li>
<li><a href="joining-data.html#pfw_id"><code>pfw_id</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="primus.html"><a href="primus.html"><i class="fa fa-check"></i><b>4</b> PRIMUS</a>
<ul>
<li class="chapter" data-level="4.1" data-path="primus.html"><a href="primus.html#interacting-with-primus"><i class="fa fa-check"></i><b>4.1</b> Interacting with PRIMUS</a>
<ul>
<li class="chapter" data-level="" data-path="primus.html"><a href="primus.html#website-platform"><i class="fa fa-check"></i>Website platform</a></li>
<li class="chapter" data-level="" data-path="primus.html"><a href="primus.html#stata-command"><i class="fa fa-check"></i>Stata command</a></li>
<li><a href="primus.html#corrections-to-primus-stata-command">Corrections to <code>primus</code> Stata command</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="primus.html"><a href="primus.html#understand-primus"><i class="fa fa-check"></i><b>4.2</b> Understanding PRIMUS</a></li>
<li class="chapter" data-level="4.3" data-path="primus.html"><a href="primus.html#checking-primus-estimates"><i class="fa fa-check"></i><b>4.3</b> Checking PRIMUS estimates</a></li>
<li class="chapter" data-level="4.4" data-path="primus.html"><a href="primus.html#approve-primus"><i class="fa fa-check"></i><b>4.4</b> Confirming and approving data in PRIMUS</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="welfare-data.html"><a href="welfare-data.html"><i class="fa fa-check"></i><b>5</b> Welfare data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="welfare-data.html"><a href="welfare-data.html#welfare-origin-of-data"><i class="fa fa-check"></i><b>5.1</b> From Raw to GMD</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="welfare-data.html"><a href="welfare-data.html#microdata"><i class="fa fa-check"></i><b>5.1.1</b> Microdata</a></li>
<li class="chapter" data-level="5.1.2" data-path="welfare-data.html"><a href="welfare-data.html#group-data"><i class="fa fa-check"></i><b>5.1.2</b> Group Data</a></li>
<li class="chapter" data-level="5.1.3" data-path="welfare-data.html"><a href="welfare-data.html#bin-data"><i class="fa fa-check"></i><b>5.1.3</b> Bin Data</a></li>
<li class="chapter" data-level="5.1.4" data-path="welfare-data.html"><a href="welfare-data.html#synthetic-data"><i class="fa fa-check"></i><b>5.1.4</b> Synthetic Data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="welfare-data.html"><a href="welfare-data.html#from-gmd-to-pip"><i class="fa fa-check"></i><b>5.2</b> From GMD to PIP ({pipdp} package)</a></li>
<li class="chapter" data-level="5.3" data-path="welfare-data.html"><a href="welfare-data.html#survey-id"><i class="fa fa-check"></i><b>5.3</b> Survey ID nomenclature</a></li>
<li class="chapter" data-level="5.4" data-path="welfare-data.html"><a href="welfare-data.html#survey-id-cache"><i class="fa fa-check"></i><b>5.4</b> Survey CACHE ID nomenclature</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="auxiliary-data.html"><a href="auxiliary-data.html"><i class="fa fa-check"></i><b>6</b> Auxiliary data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#population"><i class="fa fa-check"></i><b>6.1</b> Population</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#original-data"><i class="fa fa-check"></i><b>6.1.1</b> Original data</a></li>
<li class="chapter" data-level="6.1.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#data-structure"><i class="fa fa-check"></i><b>6.1.2</b> Data structure</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#national-accounts"><i class="fa fa-check"></i><b>6.2</b> National Accounts</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#gdp"><i class="fa fa-check"></i><b>6.2.1</b> GDP</a></li>
<li class="chapter" data-level="6.2.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#consumption-pce"><i class="fa fa-check"></i><b>6.2.2</b> Consumption (PCE)</a></li>
<li class="chapter" data-level="6.2.3" data-path="auxiliary-data.html"><a href="auxiliary-data.html#national-accounts-special-cases"><i class="fa fa-check"></i><b>6.2.3</b> National Accounts, Special Cases</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="auxiliary-data.html"><a href="auxiliary-data.html#cpi"><i class="fa fa-check"></i><b>6.3</b> CPI</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#raw-data"><i class="fa fa-check"></i><b>6.3.1</b> Raw data</a></li>
<li class="chapter" data-level="6.3.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#vintage-control"><i class="fa fa-check"></i><b>6.3.2</b> Vintage control</a></li>
<li class="chapter" data-level="6.3.3" data-path="auxiliary-data.html"><a href="auxiliary-data.html#data-structure-1"><i class="fa fa-check"></i><b>6.3.3</b> Data structure</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="auxiliary-data.html"><a href="auxiliary-data.html#ppp"><i class="fa fa-check"></i><b>6.4</b> PPP</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#original-data-1"><i class="fa fa-check"></i><b>6.4.1</b> Original data</a></li>
<li class="chapter" data-level="6.4.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#data-structure-2"><i class="fa fa-check"></i><b>6.4.2</b> Data structure</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="auxiliary-data.html"><a href="auxiliary-data.html#price-framework-pfw"><i class="fa fa-check"></i><b>6.5</b> Price FrameWork (PFW)</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#original-data-2"><i class="fa fa-check"></i><b>6.5.1</b> Original data</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="auxiliary-data.html"><a href="auxiliary-data.html#abbreviations"><i class="fa fa-check"></i><b>6.6</b> Abbreviations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#part-pip-procedures"><i class="fa fa-check"></i>(PART) PIP Procedures</a>
<ul>
<li class="chapter" data-level="6.7" data-path="auxiliary-data.html"><a href="auxiliary-data.html#folder-structure-1"><i class="fa fa-check"></i><b>6.7</b> Folder structure</a>
<ul>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#folders"><i class="fa fa-check"></i>Folders</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#files"><i class="fa fa-check"></i>Files</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="auxiliary-data.html"><a href="auxiliary-data.html#prerequisites"><i class="fa fa-check"></i><b>6.8</b> Prerequisites</a></li>
<li class="chapter" data-level="6.9" data-path="auxiliary-data.html"><a href="auxiliary-data.html#structure-of-the-_targets.r-file"><i class="fa fa-check"></i><b>6.9</b> Structure of the <code>_targets.R</code> file</a>
<ul>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#start-up"><i class="fa fa-check"></i>Start up</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#step-1-small-functions"><i class="fa fa-check"></i>Step 1: small functions</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#step-2-preparing-the-data"><i class="fa fa-check"></i>Step 2: preparing the data</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#step-3-the-actual-pipeline"><i class="fa fa-check"></i>Step 3: The actual pipeline</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="auxiliary-data.html"><a href="auxiliary-data.html#understanding-the-pipeline"><i class="fa fa-check"></i><b>6.10</b> Understanding the pipeline</a>
<ul>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#stem-targets"><i class="fa fa-check"></i>Stem targets</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#branches-targets"><i class="fa fa-check"></i>Branches targets</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#creating-the-cache-files"><i class="fa fa-check"></i>Creating the cache files</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="auxiliary-data.html"><a href="auxiliary-data.html#understanding-pipdm-functions"><i class="fa fa-check"></i><b>6.11</b> Understanding <code>{pipdm}</code> functions</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#internal-structure-of-pipdm-functions"><i class="fa fa-check"></i><b>6.11.1</b> Internal structure of <code>{pipdm}</code> functions</a></li>
<li class="chapter" data-level="6.11.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#updating-pipdm-or-any-other-pip-package"><i class="fa fa-check"></i><b>6.11.2</b> Updating <code>{pipdm}</code> (or any other PIP package)</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="auxiliary-data.html"><a href="auxiliary-data.html#executing-the-_targets.r-file"><i class="fa fa-check"></i><b>6.12</b> Executing the <code>_targets.R</code> file</a></li>
<li class="chapter" data-level="6.13" data-path="auxiliary-data.html"><a href="auxiliary-data.html#debugging"><i class="fa fa-check"></i><b>6.13</b> Debugging</a>
<ul>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#debugging-stem-targets"><i class="fa fa-check"></i>Debugging stem targets</a></li>
<li class="chapter" data-level="" data-path="auxiliary-data.html"><a href="auxiliary-data.html#debugging-branch-targets"><i class="fa fa-check"></i>Debugging branch targets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tmpipelilne.html"><a href="tmpipelilne.html"><i class="fa fa-check"></i><b>7</b> Table Maker Pipeline</a></li>
<li class="chapter" data-level="" data-path=""><a href="#part-standalone-technical-considerations"><i class="fa fa-check"></i>(PART) Standalone Technical Considerations</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tmpipelilne.html"><a href="tmpipelilne.html#auxiilary-data"><i class="fa fa-check"></i><b>7.1</b> Auxiilary data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="tmpipelilne.html"><a href="tmpipelilne.html#udpate-data"><i class="fa fa-check"></i><b>7.1.1</b> udpate data</a></li>
<li class="chapter" data-level="7.1.2" data-path="tmpipelilne.html"><a href="tmpipelilne.html#load-data"><i class="fa fa-check"></i><b>7.1.2</b> Load data</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="tmpipelilne.html"><a href="tmpipelilne.html#microdata-1"><i class="fa fa-check"></i><b>7.2</b> Microdata</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="tmpipelilne.html"><a href="tmpipelilne.html#inventory-file"><i class="fa fa-check"></i><b>7.2.1</b> Inventory file</a></li>
<li class="chapter" data-level="7.2.2" data-path="tmpipelilne.html"><a href="tmpipelilne.html#finding-data"><i class="fa fa-check"></i><b>7.2.2</b> Finding data</a></li>
<li class="chapter" data-level="7.2.3" data-path="tmpipelilne.html"><a href="tmpipelilne.html#loading-data"><i class="fa fa-check"></i><b>7.2.3</b> Loading data</a></li>
</ul></li>
</ul></li>
<ul>
<li class="chapter" data-level="12.3.1" data-path="pc-docker.html"><a href="pc-docker.html#wb-docker-install"><i class="fa fa-check"></i><b>12.3.1</b> Install Docker</a></li>
<li class="chapter" data-level="12.3.2" data-path="pc-docker.html"><a href="pc-docker.html#known-problems-and-solutions"><i class="fa fa-check"></i><b>12.3.2</b> Known problems and solutions</a></li>
<li class="chapter" data-level="12.3.3" data-path="pc-docker.html"><a href="pc-docker.html#tips-and-tricks"><i class="fa fa-check"></i><b>12.3.3</b> Tips and tricks</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="pc-docker.html"><a href="pc-docker.html#create-volume"><i class="fa fa-check"></i><b>12.4</b> Create volume</a></li>
<li class="chapter" data-level="12.5" data-path="pc-docker.html"><a href="pc-docker.html#build-image"><i class="fa fa-check"></i><b>12.5</b> Build image</a></li>
<li class="chapter" data-level="12.6" data-path="pc-docker.html"><a href="pc-docker.html#run-container"><i class="fa fa-check"></i><b>12.6</b> Run container</a></li>
<li class="chapter" data-level="12.7" data-path="pcpipeline.html"><a href="pcpipeline.html#debugging"><i class="fa fa-check"></i><b>12.7</b> Debugging</a></li>
<li class="chapter" data-level="12.8" data-path="pc-docker.html"><a href="pc-docker.html#security"><i class="fa fa-check"></i><b>12.8</b> Security</a></li>
<li class="chapter" data-level="12.9" data-path="pc-docker.html"><a href="pc-docker.html#base-image-options"><i class="fa fa-check"></i><b>12.9</b> Base image options</a></li>
<li class="chapter" data-level="12.10" data-path="pc-docker.html"><a href="pc-docker.html#resources"><i class="fa fa-check"></i><b>12.10</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="azure.html"><a href="azure.html"><i class="fa fa-check"></i><b>13</b> Deploying to Azure</a>
<ul>
<li class="chapter" data-level="13.1" data-path="azure.html"><a href="azure.html#azure-pc-data"><i class="fa fa-check"></i><b>13.1</b> Poverty Calculator Data</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="azure.html"><a href="azure.html#deploying-data-on-dev"><i class="fa fa-check"></i><b>13.1.1</b> Deploying data on DEV</a></li>
<li class="chapter" data-level="13.1.2" data-path="azure.html"><a href="azure.html#deploying-data-on-qa"><i class="fa fa-check"></i><b>13.1.2</b> Deploying data on QA</a></li>
<li class="chapter" data-level="13.1.3" data-path="azure.html"><a href="azure.html#deploying-data-to-production"><i class="fa fa-check"></i><b>13.1.3</b> Deploying data to Production</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="azure.html"><a href="azure.html#azure-pc-docker"><i class="fa fa-check"></i><b>13.2</b> Poverty Calculator Docker image</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="azure.html"><a href="azure.html#deploying-image-on-dev"><i class="fa fa-check"></i><b>13.2.1</b> Deploying image on DEV</a></li>
<li class="chapter" data-level="13.2.2" data-path="azure.html"><a href="azure.html#deploying-image-on-qa"><i class="fa fa-check"></i><b>13.2.2</b> Deploying image on QA</a></li>
<li class="chapter" data-level="13.2.3" data-path="azure.html"><a href="azure.html#deploying-image-to-production"><i class="fa fa-check"></i><b>13.2.3</b> Deploying image to Production</a></li>
</ul></li>

  <li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/PIP-Technical-Team/PIPmanual" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PIP Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class="rmdbox rmdwarning"><strong>DISCLAIMER:</strong> This book contains relevant only for the internal Technical team of the PIP project. It has been made available to the public for the sake of transparency, but its information has no use outside the internal team.
 </div>
<div id="folder-structure" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Folder Structure</h1>
<p>The PIP root directory (<code>Sys.getenv("PIP_ROOT_DIR")</code>) contains the following main folders.</p>
<table>
<thead>
<tr class="header">
<th align="left">Folder</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PIP-Data</td>
<td align="left">N/A</td>
</tr>
<tr class="even">
<td align="left">PIP-Data_QA</td>
<td align="left">QA directory for survey and AUX data</td>
</tr>
<tr class="odd">
<td align="left">PIP-Data_ExtSOL</td>
<td align="left">SOL</td>
</tr>
<tr class="even">
<td align="left">PIP-PIP_Data_Testing</td>
<td align="left">Testing directory for pipaux and pipdp</td>
</tr>
<tr class="odd">
<td align="left">PIP-PIP_Data_Vintage</td>
<td align="left">N/A</td>
</tr>
<tr class="even">
<td align="left">pip_ingestion_pipeline</td>
<td align="left">Pipeline directory</td>
</tr>
</tbody>
</table>
<p>Details on each folder and their subfolders are given below.</p>
<div id="pip-data" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> PIP-Data</h2>
<p><span style="color:red">This folder is no longer in use</span>.</p>
<p>This was the original PIP_Data folder. It was used for testing and development of <code>{pipdp}</code> and <code>{pipaux</code>}, but has since been replaced by
<code>PIP-Data_QA</code> and <code>PIP_Data_Testing</code>.</p>
</div>
<div id="pip-data_qa" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> PIP-Data_QA</h2>
<p>This is the main output directory for the <code>{pipdp}</code> and <code>{pipaux}</code> packages. It contains all the survey and auxiliary data
needed to run the <a href="#pcpipeline">Poverty Calculator</a> and <a href="#tmpipeline">Table Maker</a> pipelines.</p>
<p>Note that the contents of this folder is for QA and production purposes. Please use the <code>PIP_Data_Testing</code> directory,
or your own personal testing directory, if you intend to test code changes in <code>{pipdp}</code> or <code>{pipaux}</code>.</p>
<div id="aux" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> _aux</h3>
<p>The <code>_aux</code> folder contains the auxiliary data used by the <a href="#pcpipeline">Poverty Calculator Pipeline</a> and the <code>{pipdp}</code> and <code>{pipapi}</code> packages.</p>
<p>Please note the following:</p>
<ol style="list-style-type: decimal">
<li>The file <code>sna/NAS special_2021-01-14.xlsx</code> is currently hardcoded in <code>{pipaux}</code>. If the contents of the file changes this package might need to be updated.</li>
<li>Some other National Accounts special cases (e.g. BLZ, VEN) are manually hardcoded in pipaux. Beware of this when updating GDP/PCE.</li>
<li>The file <code>weo/weo_&lt;YYYY-MM-DD&gt;.xls</code> needs to be manually downloaded from IMF, opened and then re-saved as <code>weo_&lt;YYYY-MM-DD&gt;.xls</code>.</li>
<li>The grouped data means currently come from the PovcalNet Masterfile. This should be changed when PovcalNet goes out of production.</li>
</ol>
<p>An explanation of each subfolder is given below.</p>
<table>
<thead>
<tr class="header">
<th align="left">Folder</th>
<th align="left">Measure</th>
<th align="left">Usage</th>
<th align="left">Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">countries</td>
<td align="left">PIP country list</td>
<td align="left">pipapi</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">country_list</td>
<td align="left">WDI country list</td>
<td align="left">pipaux, PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">cp</td>
<td align="left">Country profiles</td>
<td align="left">pipai</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">cpi</td>
<td align="left">CPI</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">dlw</td>
<td align="left">DLW repository</td>
<td align="left">pipdp</td>
<td align="left">pipdp</td>
</tr>
<tr class="even">
<td align="left">gdm</td>
<td align="left">Grouped data means</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">gdp</td>
<td align="left">Gross Domestic Product</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">maddison</td>
<td align="left">Maddison Project Data</td>
<td align="left">pipaux</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">indicators</td>
<td align="left">Indicators master</td>
<td align="left">pipapi, PC pipeline</td>
<td align="left">Manual, pipaux</td>
</tr>
<tr class="even">
<td align="left">pce</td>
<td align="left">Private consumption</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">pfw</td>
<td align="left">Price Framework</td>
<td align="left">pipdp, PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">pl</td>
<td align="left">Poverty Lines</td>
<td align="left">pipapi</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="left">Population</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">ppp</td>
<td align="left">Purchasing Power Parity</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">regions</td>
<td align="left">Regions</td>
<td align="left">pipapi</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">sna</td>
<td align="left">Special National Account cases</td>
<td align="left">pipaux</td>
<td align="left">Manual</td>
</tr>
<tr class="odd">
<td align="left">weo</td>
<td align="left">World Economic Outlook (GDP)</td>
<td align="left">pipaux</td>
<td align="left">IMF, pipaux</td>
</tr>
</tbody>
</table>
<p>The data in the folders <code>countries</code>, <code>regions</code>, <code>pl</code>, <code>cp</code> and <code>indicators</code> are loaded into the Poverty Calculator pipeline,
but that they are not used for any calculations or modified in any way, when being parsed through the pipeline.
They are thus only listed with <code>{pipapi}</code> as their usage.</p>
<p>In contrast the measures CPI, GDP, PCE, POP and PPP are both used in the pre-calculations and transformed before
being saved as pipeline outputs. So even though these measures are also available in the PIP PC API, the files at this stage
only have the Poverty Calculator pipeline as their use case.</p>
</div>
<div id="inventory" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> _inventory</h3>
<p>The <code>_inventory</code> folder contains the PIP inventory file created by <code>pipload::pip_update_inventory()</code>. It is important to update this file if the survey data
has been updated.</p>
</div>
<div id="country-data" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Country data</h3>
<p>The folders with country codes as names, e.g <code>AGO</code>, contain survey data for each country. This is created by <code>{pipdp}</code>.
The folder structure within each country folder follows roughly the same convention as used by DLW.</p>
<p>There will be one data file for each survey, based on DLW’s <code>GMD</code> module and the grouped data in the PovcalNet-drive. These are labelled with PC in
their filenames. Additionally, if there is survey data available from the DLW’s <code>ALL</code> module there will also be a dataset for the Table Maker,
labelled with TB.</p>
</div>
</div>
<div id="pip-data_extsol" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> PIP-Data_ExtSOL</h2>
<p>This folder is used for SOL. <span style="color:red">Minh: Could you provide details?</span></p>
</div>
<div id="pip_data_testing" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> PIP_Data_Testing</h2>
<p>This folder is used as a testing directory for development of the <code>{pipdp}</code> and <code>{pipaux}</code> packges.</p>
</div>
<div id="pip_data_vintage" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> PIP_Data_Vintage</h2>
<p><span style="color:red">This folder is currently not in use</span>.</p>
</div>
<div id="pip_ingestion_pipeline" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> pip_ingestion_pipeline</h2>
<p>This is the main output directory for the both the <a href="#pcpipeline">Poverty Calculator</a> and <a href="#tmpipeline">Table Maker</a> pipelines.</p>
<div id="pc_data" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> pc_data</h3>
<table>
<thead>
<tr class="header">
<th align="left">Folder</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">_targets</td>
<td align="left">Targets storage</td>
</tr>
<tr class="even">
<td align="left">cache</td>
<td align="left">Cleaned survey data</td>
</tr>
<tr class="odd">
<td align="left">output</td>
<td align="left">PC pipline output directory</td>
</tr>
<tr class="even">
<td align="left">validation</td>
<td align="left">Validation directory</td>
</tr>
</tbody>
</table>
<div id="targets" class="section level4" number="2.6.1.1">
<h4><span class="header-section-number">2.6.1.1</span> _targets</h4>
<p>This folder contains the objects that are cached by <code>{targets}</code> when the <a href="#pcpipeline">Poverty Calculator</a> pipeline is run. It is located on the
shared network drive so that the latest cached objects are available to all team members. Please note however that a shared <code>_targets</code> folder
does entail some risks. <strong>It is very important that only one person runs the pipeline at a time.</strong> Concurrent runs at the same <code>_targets</code> store will
wreak havoc. And needless to say; if you are developing new features or customising the pipeline use a different <code>_targets</code> store.
(<span style="color:red">We should probably have a custom DEV or testing folder for this, similar to PIP_Data_Testing</span>.)</p>
</div>
<div id="cache" class="section level4" number="2.6.1.2">
<h4><span class="header-section-number">2.6.1.2</span> cache</h4>
<p>The survey data output of <code>{pipdp}</code> cannot be directly used as input to the <a href="#pcpipeline">Poverty Calculator Pipeline</a>. This because the data needs to be cleaned
before running the necessary pre-calculations for the PIP database. The cleaning currently includes removal of rows with missing welfare and weight values,
standardising of grouped data, and restructuring of datasets with both income and consumption based welfare values in the same survey.
Please refer to <code>{wbpip}</code> and <code>{pipdm}</code> for the latest cleaning procedures.</p>
<p>In order to avoid doing this cleaning every time the pipeline runs an intermediate version of the survey data is stored in the <code>cache/clean_survey_data/</code> folder.
Please make sure this folder is up-to-date before running the <code>_targets.R</code> pipeline.</p>
<p><span style="color:red">Note: This is not exactly true. We need to solve the issue with the double caching of survey data. But the essence of what we want to accomplish is to avoid
cleaning and checking the survey data in every pipeline run.</span>.</p>
</div>
<div id="output" class="section level4" number="2.6.1.3">
<h4><span class="header-section-number">2.6.1.3</span> output</h4>
<p>This folder contains the outputs of the <a href="#pcpipeline">Poverty Calculator Pipeline</a>. This is seperated into three subfolders; <code>aux</code> containing the
auxiliary data, <code>estimations</code> containing the survey, interpolated and distributional pre-calculated estimates, and <code>survey_data</code> containing
the cleaned survey data.</p>
</div>
<div id="validation" class="section level4" number="2.6.1.4">
<h4><span class="header-section-number">2.6.1.4</span> validation</h4>
<p>TBD <span style="color:red">Andres: Could you write this section?</span>.</p>
</div>
</div>
<div id="tb_data" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> tb_data</h3>
<p>TBD <span style="color:red">Andres: Could you write this section?</span>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="internal-workflow.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="joining-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PIP-Technical-Team/PIPmanual/edit/master/Folder_structure.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PIPmanual.pdf", "PIPmanual.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
