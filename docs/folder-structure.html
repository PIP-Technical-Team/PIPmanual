<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Folder Structure | PIP Manual</title>
  <meta name="description" content="These are the guidelines to all the technical decisions taken during the creation of packges for the PIP workflow." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Folder Structure | PIP Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are the guidelines to all the technical decisions taken during the creation of packges for the PIP workflow." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Folder Structure | PIP Manual" />
  
  <meta name="twitter:description" content="These are the guidelines to all the technical decisions taken during the creation of packges for the PIP workflow." />
  

<meta name="author" content="DECIS" />
<meta name="author" content="Poverty GP" />


<meta name="date" content="2022-03-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="internal-workflow.html"/>
<link rel="next" href="joining-data.html"/>
<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.21/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="https://unpkg.com/tachyons@4/css/tachyons.min.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/r-colors.css" type="text/css" />
<link rel="stylesheet" href="css/smltar.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">PIP Internal Guidelines</a></strong></li>

<li class="divider"></li>
<li><a href="index.html#welcome">Welcome!<span></span></a>
<ul>
<li><a href="index.html#team">Team<span></span></a></li>
</ul></li>
<li class="part"><span><b>I Introduction<span></span></b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#ojectives"><i class="fa fa-check"></i><b>1.1</b> Ojectives<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#technical-requirements"><i class="fa fa-check"></i><b>1.2</b> Technical requirements<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="internal-workflow.html"><a href="internal-workflow.html"><i class="fa fa-check"></i><b>2</b> Internal Workflow<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="internal-workflow.html"><a href="internal-workflow.html#the-github-group"><i class="fa fa-check"></i><b>2.1</b> The Github group<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="internal-workflow.html"><a href="internal-workflow.html#overview"><i class="fa fa-check"></i><b>2.2</b> Overview<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="internal-workflow.html"><a href="internal-workflow.html#data-acquisition"><i class="fa fa-check"></i><b>2.3</b> Data acquisition<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="internal-workflow.html"><a href="internal-workflow.html#data-preparation"><i class="fa fa-check"></i><b>2.4</b> Data preparation<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="internal-workflow.html"><a href="internal-workflow.html#pre-computed-indicators"><i class="fa fa-check"></i><b>2.5</b> Pre-computed indicators<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="internal-workflow.html"><a href="internal-workflow.html#api-feeding"><i class="fa fa-check"></i><b>2.6</b> API feeding<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="internal-workflow.html"><a href="internal-workflow.html#packages-interaction"><i class="fa fa-check"></i><b>2.7</b> Packages interaction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="folder-structure.html"><a href="folder-structure.html"><i class="fa fa-check"></i><b>3</b> Folder Structure<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="folder-structure.html"><a href="folder-structure.html#pip-data"><i class="fa fa-check"></i><b>3.1</b> PIP-Data<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="folder-structure.html"><a href="folder-structure.html#pip-data_qa"><i class="fa fa-check"></i><b>3.2</b> PIP-Data_QA<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="folder-structure.html"><a href="folder-structure.html#aux"><i class="fa fa-check"></i><b>3.2.1</b> _aux<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="folder-structure.html"><a href="folder-structure.html#inventory"><i class="fa fa-check"></i><b>3.2.2</b> _inventory<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="folder-structure.html"><a href="folder-structure.html#country-data"><i class="fa fa-check"></i><b>3.2.3</b> Country data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="folder-structure.html"><a href="folder-structure.html#pip-data_extsol"><i class="fa fa-check"></i><b>3.3</b> PIP-Data_ExtSOL<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="folder-structure.html"><a href="folder-structure.html#pip_data_testing"><i class="fa fa-check"></i><b>3.4</b> PIP_Data_Testing<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="folder-structure.html"><a href="folder-structure.html#pip_data_vintage"><i class="fa fa-check"></i><b>3.5</b> PIP_Data_Vintage<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="folder-structure.html"><a href="folder-structure.html#pip_ingestion_pipeline"><i class="fa fa-check"></i><b>3.6</b> pip_ingestion_pipeline<span></span></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="folder-structure.html"><a href="folder-structure.html#pc_data"><i class="fa fa-check"></i><b>3.6.1</b> pc_data<span></span></a></li>
<li class="chapter" data-level="3.6.2" data-path="folder-structure.html"><a href="folder-structure.html#tb_data"><i class="fa fa-check"></i><b>3.6.2</b> tb_data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>4</b> Joining Data<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="joining-data.html"><a href="joining-data.html#pfw-join"><i class="fa fa-check"></i><b>4.1</b> The Price FrameWork (pfw) data<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="joining-data.html"><a href="joining-data.html#joining-data-example"><i class="fa fa-check"></i><b>4.1.1</b> Joining data example<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="joining-data.html"><a href="joining-data.html#special-data-cases"><i class="fa fa-check"></i><b>4.2</b> Special data cases<span></span></a></li>
</ul></li>
<li class="part"><span><b>II PIP data<span></span></b></span></li>
<li class="chapter" data-level="5" data-path="pfw-chapter.html"><a href="pfw-chapter.html"><i class="fa fa-check"></i><b>5</b> Price FrameWork (pfw) data frame<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="pfw-chapter.html"><a href="pfw-chapter.html#variables"><i class="fa fa-check"></i><b>5.1</b> Variables<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="pfw-chapter.html"><a href="pfw-chapter.html#additional-explanation"><i class="fa fa-check"></i><b>5.2</b> Additional explanation<span></span></a>
<ul>
<li><a href="pfw-chapter.html#id-vars">ID vars<span></span></a></li>
<li><a href="pfw-chapter.html#altname"><code>altname</code><span></span></a></li>
<li><a href="pfw-chapter.html#survey_coverage"><code>survey_coverage</code><span></span></a></li>
<li><a href="pfw-chapter.html#welfare_type"><code>welfare_type</code><span></span></a></li>
<li><a href="pfw-chapter.html#use_imputed"><code>use_imputed</code><span></span></a></li>
<li><a href="pfw-chapter.html#use_microdata"><code>use_microdata</code><span></span></a></li>
<li><a href="pfw-chapter.html#use_bin"><code>use_bin</code><span></span></a></li>
<li><a href="pfw-chapter.html#use_groupdata"><code>use_groupdata</code><span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="primus.html"><a href="primus.html"><i class="fa fa-check"></i><b>6</b> PRIMUS<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="primus.html"><a href="primus.html#interacting-with-primus"><i class="fa fa-check"></i><b>6.1</b> Interacting with PRIMUS<span></span></a>
<ul>
<li><a href="primus.html#website-platform">Website platform<span></span></a></li>
<li><a href="primus.html#stata-command">Stata command<span></span></a></li>
<li><a href="primus.html#corrections-to-primus-stata-command">Corrections to <code>primus</code> Stata command<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="primus.html"><a href="primus.html#understand-primus"><i class="fa fa-check"></i><b>6.2</b> Understanding PRIMUS<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="primus.html"><a href="primus.html#checking-primus-estimates"><i class="fa fa-check"></i><b>6.3</b> Checking PRIMUS estimates<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="primus.html"><a href="primus.html#approve-primus"><i class="fa fa-check"></i><b>6.4</b> Confirming and approving data in PRIMUS<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="welfare-data.html"><a href="welfare-data.html"><i class="fa fa-check"></i><b>7</b> Welfare data<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="welfare-data.html"><a href="welfare-data.html#welfare-origin-of-data"><i class="fa fa-check"></i><b>7.1</b> From Raw to GMD<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="welfare-data.html"><a href="welfare-data.html#microdata"><i class="fa fa-check"></i><b>7.1.1</b> Microdata<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="welfare-data.html"><a href="welfare-data.html#group-data"><i class="fa fa-check"></i><b>7.1.2</b> Group Data<span></span></a></li>
<li class="chapter" data-level="7.1.3" data-path="welfare-data.html"><a href="welfare-data.html#bin-data"><i class="fa fa-check"></i><b>7.1.3</b> Bin Data<span></span></a></li>
<li class="chapter" data-level="7.1.4" data-path="welfare-data.html"><a href="welfare-data.html#synthetic-data"><i class="fa fa-check"></i><b>7.1.4</b> Synthetic Data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="welfare-data.html"><a href="welfare-data.html#from-gmd-to-pip"><i class="fa fa-check"></i><b>7.2</b> From GMD to PIP ({pipdp} package)<span></span></a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="welfare-data.html"><a href="welfare-data.html#requirements"><i class="fa fa-check"></i><b>7.2.1</b> Requirements<span></span></a></li>
<li class="chapter" data-level="7.2.2" data-path="welfare-data.html"><a href="welfare-data.html#installation"><i class="fa fa-check"></i><b>7.2.2</b> Installation<span></span></a></li>
<li class="chapter" data-level="7.2.3" data-path="welfare-data.html"><a href="welfare-data.html#remote-server"><i class="fa fa-check"></i><b>7.2.3</b> Remote server<span></span></a></li>
<li class="chapter" data-level="7.2.4" data-path="welfare-data.html"><a href="welfare-data.html#usage"><i class="fa fa-check"></i><b>7.2.4</b> Usage<span></span></a></li>
<li class="chapter" data-level="7.2.5" data-path="welfare-data.html"><a href="welfare-data.html#preparing-survey-data-for-poverty-calculator-pipeline"><i class="fa fa-check"></i><b>7.2.5</b> Preparing survey data for Poverty Calculator Pipeline<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="welfare-data.html"><a href="welfare-data.html#survey-id"><i class="fa fa-check"></i><b>7.3</b> Survey ID nomenclature<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="welfare-data.html"><a href="welfare-data.html#survey-id-cache"><i class="fa fa-check"></i><b>7.4</b> Survey CACHE ID nomenclature<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="auxiliary-data.html"><a href="auxiliary-data.html"><i class="fa fa-check"></i><b>8</b> Auxiliary data<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#population"><i class="fa fa-check"></i><b>8.1</b> Population<span></span></a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#original-data"><i class="fa fa-check"></i><b>8.1.1</b> Original data<span></span></a></li>
<li class="chapter" data-level="8.1.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#data-structure"><i class="fa fa-check"></i><b>8.1.2</b> Data structure<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#national-accounts"><i class="fa fa-check"></i><b>8.2</b> National Accounts<span></span></a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#gdp"><i class="fa fa-check"></i><b>8.2.1</b> GDP<span></span></a></li>
<li class="chapter" data-level="8.2.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#consumption-pce"><i class="fa fa-check"></i><b>8.2.2</b> Consumption (PCE)<span></span></a></li>
<li class="chapter" data-level="8.2.3" data-path="auxiliary-data.html"><a href="auxiliary-data.html#national-accounts-special-cases"><i class="fa fa-check"></i><b>8.2.3</b> National Accounts, Special Cases<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="auxiliary-data.html"><a href="auxiliary-data.html#cpi"><i class="fa fa-check"></i><b>8.3</b> CPI<span></span></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#raw-data"><i class="fa fa-check"></i><b>8.3.1</b> Raw data<span></span></a></li>
<li class="chapter" data-level="8.3.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#vintage-control"><i class="fa fa-check"></i><b>8.3.2</b> Vintage control<span></span></a></li>
<li class="chapter" data-level="8.3.3" data-path="auxiliary-data.html"><a href="auxiliary-data.html#data-structure-1"><i class="fa fa-check"></i><b>8.3.3</b> Data structure<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="auxiliary-data.html"><a href="auxiliary-data.html#ppp"><i class="fa fa-check"></i><b>8.4</b> PPP<span></span></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#raw-data-1"><i class="fa fa-check"></i><b>8.4.1</b> Raw data<span></span></a></li>
<li class="chapter" data-level="8.4.2" data-path="auxiliary-data.html"><a href="auxiliary-data.html#data-structure-2"><i class="fa fa-check"></i><b>8.4.2</b> Data structure<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="auxiliary-data.html"><a href="auxiliary-data.html#price-framework-pfw"><i class="fa fa-check"></i><b>8.5</b> Price FrameWork (PFW)<span></span></a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="auxiliary-data.html"><a href="auxiliary-data.html#original-data-1"><i class="fa fa-check"></i><b>8.5.1</b> Original data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="auxiliary-data.html"><a href="auxiliary-data.html#abbreviations"><i class="fa fa-check"></i><b>8.6</b> Abbreviations<span></span></a></li>
</ul></li>
<li class="part"><span><b>III PIP Procedures<span></span></b></span></li>
<li class="chapter" data-level="9" data-path="pcpipeline.html"><a href="pcpipeline.html"><i class="fa fa-check"></i><b>9</b> Poverty Calculator Pipeline (pre-computed estimations)<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="pcpipeline.html"><a href="pcpipeline.html#folder-structure-1"><i class="fa fa-check"></i><b>9.1</b> Folder structure<span></span></a>
<ul>
<li><a href="pcpipeline.html#folders">Folders<span></span></a></li>
<li><a href="pcpipeline.html#files">Files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="pcpipeline.html"><a href="pcpipeline.html#prerequisites"><i class="fa fa-check"></i><b>9.2</b> Prerequisites<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="pcpipeline.html"><a href="pcpipeline.html#structure-of-the-_targets.r-file"><i class="fa fa-check"></i><b>9.3</b> Structure of the <code>_targets.R</code> file<span></span></a>
<ul>
<li><a href="pcpipeline.html#start-up">Start up<span></span></a></li>
<li><a href="pcpipeline.html#step-1-small-functions">Step 1: small functions<span></span></a></li>
<li><a href="pcpipeline.html#step-2-preparing-the-data">Step 2: preparing the data<span></span></a></li>
<li><a href="pcpipeline.html#step-3-the-actual-pipeline">Step 3: The actual pipeline<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="pcpipeline.html"><a href="pcpipeline.html#understanding-the-pipeline"><i class="fa fa-check"></i><b>9.4</b> Understanding the pipeline<span></span></a>
<ul>
<li><a href="pcpipeline.html#stem-targets">Stem targets<span></span></a></li>
<li><a href="pcpipeline.html#branches-targets">Branches targets<span></span></a></li>
<li><a href="pcpipeline.html#creating-the-cache-files">Creating the cache files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="pcpipeline.html"><a href="pcpipeline.html#understanding-pipdm-functions"><i class="fa fa-check"></i><b>9.5</b> Understanding <code>{pipdm}</code> functions<span></span></a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="pcpipeline.html"><a href="pcpipeline.html#internal-structure-of-pipdm-functions"><i class="fa fa-check"></i><b>9.5.1</b> Internal structure of <code>{pipdm}</code> functions<span></span></a></li>
<li class="chapter" data-level="9.5.2" data-path="pcpipeline.html"><a href="pcpipeline.html#updating-pipdm-or-any-other-pip-package"><i class="fa fa-check"></i><b>9.5.2</b> Updating <code>{pipdm}</code> (or any other PIP package)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="pcpipeline.html"><a href="pcpipeline.html#executing-the-_targets.r-file"><i class="fa fa-check"></i><b>9.6</b> Executing the <code>_targets.R</code> file<span></span></a></li>
<li class="chapter" data-level="9.7" data-path="pcpipeline.html"><a href="pcpipeline.html#debugging"><i class="fa fa-check"></i><b>9.7</b> Debugging<span></span></a>
<ul>
<li><a href="pcpipeline.html#debugging-stem-targets">Debugging stem targets<span></span></a></li>
<li><a href="pcpipeline.html#debugging-branch-targets">Debugging branch targets<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tmpipelilne.html"><a href="tmpipelilne.html"><i class="fa fa-check"></i><b>10</b> Table Maker Pipeline<span></span></a></li>
<li class="part"><span><b>IV Standalone Technical Considerations<span></span></b></span></li>
<li class="chapter" data-level="11" data-path="load.html"><a href="load.html"><i class="fa fa-check"></i><b>11</b> Load microdata and Auxiliary data<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="load.html"><a href="load.html#auxiilary-data"><i class="fa fa-check"></i><b>11.1</b> Auxiilary data<span></span></a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="load.html"><a href="load.html#udpate-data"><i class="fa fa-check"></i><b>11.1.1</b> udpate data<span></span></a></li>
<li class="chapter" data-level="11.1.2" data-path="load.html"><a href="load.html#load-data"><i class="fa fa-check"></i><b>11.1.2</b> Load data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="load.html"><a href="load.html#microdata-1"><i class="fa fa-check"></i><b>11.2</b> Microdata<span></span></a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="load.html"><a href="load.html#inventory-file"><i class="fa fa-check"></i><b>11.2.1</b> Inventory file<span></span></a></li>
<li class="chapter" data-level="11.2.2" data-path="load.html"><a href="load.html#finding-data"><i class="fa fa-check"></i><b>11.2.2</b> Finding data<span></span></a></li>
<li class="chapter" data-level="11.2.3" data-path="load.html"><a href="load.html#loading-data"><i class="fa fa-check"></i><b>11.2.3</b> Loading data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="pc-docker.html"><a href="pc-docker.html"><i class="fa fa-check"></i><b>12</b> Docker Container<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="pc-docker.html"><a href="pc-docker.html#introduction"><i class="fa fa-check"></i><b>12.1</b> Introduction<span></span></a></li>
<li class="chapter" data-level="12.2" data-path="pcpipeline.html"><a href="pcpipeline.html#prerequisites"><i class="fa fa-check"></i><b>12.2</b> Prerequisites<span></span></a></li>
<li class="chapter" data-level="12.3" data-path="pc-docker.html"><a href="pc-docker.html#docker-on-world-bank-laptops"><i class="fa fa-check"></i><b>12.3</b> Docker on World Bank laptops<span></span></a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="pc-docker.html"><a href="pc-docker.html#wb-docker-install"><i class="fa fa-check"></i><b>12.3.1</b> Install Docker<span></span></a></li>
<li class="chapter" data-level="12.3.2" data-path="pc-docker.html"><a href="pc-docker.html#known-problems-and-solutions"><i class="fa fa-check"></i><b>12.3.2</b> Known problems and solutions<span></span></a></li>
<li class="chapter" data-level="12.3.3" data-path="pc-docker.html"><a href="pc-docker.html#tips-and-tricks"><i class="fa fa-check"></i><b>12.3.3</b> Tips and tricks<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="pc-docker.html"><a href="pc-docker.html#create-volume"><i class="fa fa-check"></i><b>12.4</b> Create volume<span></span></a></li>
<li class="chapter" data-level="12.5" data-path="pc-docker.html"><a href="pc-docker.html#build-image"><i class="fa fa-check"></i><b>12.5</b> Build image<span></span></a></li>
<li class="chapter" data-level="12.6" data-path="pc-docker.html"><a href="pc-docker.html#run-container"><i class="fa fa-check"></i><b>12.6</b> Run container<span></span></a></li>
<li class="chapter" data-level="12.7" data-path="pcpipeline.html"><a href="pcpipeline.html#debugging"><i class="fa fa-check"></i><b>12.7</b> Debugging<span></span></a></li>
<li class="chapter" data-level="12.8" data-path="pc-docker.html"><a href="pc-docker.html#security"><i class="fa fa-check"></i><b>12.8</b> Security<span></span></a></li>
<li class="chapter" data-level="12.9" data-path="pc-docker.html"><a href="pc-docker.html#base-image-options"><i class="fa fa-check"></i><b>12.9</b> Base image options<span></span></a></li>
<li class="chapter" data-level="12.10" data-path="pc-docker.html"><a href="pc-docker.html#using-r-on-linux"><i class="fa fa-check"></i><b>12.10</b> Using R on Linux<span></span></a></li>
<li class="chapter" data-level="12.11" data-path="pc-docker.html"><a href="pc-docker.html#resources"><i class="fa fa-check"></i><b>12.11</b> Resources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="azure.html"><a href="azure.html"><i class="fa fa-check"></i><b>13</b> Deploying to Azure<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="azure.html"><a href="azure.html#azure-pc-data"><i class="fa fa-check"></i><b>13.1</b> Poverty Calculator Data<span></span></a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="azure.html"><a href="azure.html#deploying-data-on-dev"><i class="fa fa-check"></i><b>13.1.1</b> Deploying data on DEV<span></span></a></li>
<li class="chapter" data-level="13.1.2" data-path="azure.html"><a href="azure.html#deploying-data-on-qa"><i class="fa fa-check"></i><b>13.1.2</b> Deploying data on QA<span></span></a></li>
<li class="chapter" data-level="13.1.3" data-path="azure.html"><a href="azure.html#deploying-data-to-production"><i class="fa fa-check"></i><b>13.1.3</b> Deploying data to Production<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="azure.html"><a href="azure.html#azure-pc-docker"><i class="fa fa-check"></i><b>13.2</b> Poverty Calculator Docker image<span></span></a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="azure.html"><a href="azure.html#deploying-image-on-dev"><i class="fa fa-check"></i><b>13.2.1</b> Deploying image on DEV<span></span></a></li>
<li class="chapter" data-level="13.2.2" data-path="azure.html"><a href="azure.html#deploying-image-on-qa"><i class="fa fa-check"></i><b>13.2.2</b> Deploying image on QA<span></span></a></li>
<li class="chapter" data-level="13.2.3" data-path="azure.html"><a href="azure.html#deploying-image-to-production"><i class="fa fa-check"></i><b>13.2.3</b> Deploying image to Production<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="gh-workflows.html"><a href="gh-workflows.html"><i class="fa fa-check"></i><b>14</b> Github Workflows<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="gh-workflows.html"><a href="gh-workflows.html#package-webpage-using-pkgdown"><i class="fa fa-check"></i><b>14.1</b> Package webpage using <code>{pkgdown}</code><span></span></a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="gh-workflows.html"><a href="gh-workflows.html#create-gh-pages-branch"><i class="fa fa-check"></i><b>14.1.1</b> Create <code>gh-pages</code> branch<span></span></a></li>
<li class="chapter" data-level="14.1.2" data-path="gh-workflows.html"><a href="gh-workflows.html#create-setup-files"><i class="fa fa-check"></i><b>14.1.2</b> Create “setup” files<span></span></a></li>
<li class="chapter" data-level="14.1.3" data-path="gh-workflows.html"><a href="gh-workflows.html#activate-github-pages"><i class="fa fa-check"></i><b>14.1.3</b> Activate Github Pages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="gh-workflows.html"><a href="gh-workflows.html#package-build-checks"><i class="fa fa-check"></i><b>14.2</b> Package build checks<span></span></a></li>
<li class="chapter" data-level="14.3" data-path="gh-workflows.html"><a href="gh-workflows.html#code-coverage"><i class="fa fa-check"></i><b>14.3</b> Code coverage<span></span></a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="gh-workflows.html"><a href="gh-workflows.html#create-setup-files-1"><i class="fa fa-check"></i><b>14.3.1</b> Create “setup” files<span></span></a></li>
<li class="chapter" data-level="14.3.2" data-path="gh-workflows.html"><a href="gh-workflows.html#integrate-with-codecov.io"><i class="fa fa-check"></i><b>14.3.2</b> Integrate with codecov.io<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="gh-workflows.html"><a href="gh-workflows.html#other-workflows"><i class="fa fa-check"></i><b>14.4</b> Other workflows<span></span></a></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/PIP-Technical-Team/PIPmanual" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PIP Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class="rmdbox rmdwarning"><strong>DISCLAIMER:</strong> This book contains relevant only for the internal Technical team of the PIP project. It has been made available to the public for the sake of transparency, but its information has no use outside the internal team.
 </div>
<div id="folder-structure" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Folder Structure<a href="folder-structure.html#folder-structure" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The PIP root directory (<code>Sys.getenv("PIP_ROOT_DIR")</code>) contains the following main folders.</p>
<table>
<thead>
<tr class="header">
<th align="left">Folder</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PIP-Data</td>
<td align="left">N/A</td>
</tr>
<tr class="even">
<td align="left">PIP-Data_QA</td>
<td align="left">QA directory for survey and AUX data</td>
</tr>
<tr class="odd">
<td align="left">PIP-Data_ExtSOL</td>
<td align="left">SOL</td>
</tr>
<tr class="even">
<td align="left">PIP-PIP_Data_Testing</td>
<td align="left">Testing directory for pipaux and pipdp</td>
</tr>
<tr class="odd">
<td align="left">PIP-PIP_Data_Vintage</td>
<td align="left">N/A</td>
</tr>
<tr class="even">
<td align="left">pip_ingestion_pipeline</td>
<td align="left">Pipeline directory</td>
</tr>
</tbody>
</table>
<p>Details on each folder and their subfolders are given below.</p>
<div id="pip-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> PIP-Data<a href="folder-structure.html#pip-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span style="color:red">This folder is no longer in use</span>.</p>
<p>This was the original PIP_Data folder. It was used for testing and development of <code>{pipdp}</code> and <code>{pipaux</code>}, but has since been replaced by
<code>PIP-Data_QA</code> and <code>PIP_Data_Testing</code>.</p>
</div>
<div id="pip-data_qa" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> PIP-Data_QA<a href="folder-structure.html#pip-data_qa" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This is the main output directory for the <code>{pipdp}</code> and <code>{pipaux}</code> packages. It contains all the survey and auxiliary data
needed to run the <a href="pcpipeline.html#pcpipeline">Poverty Calculator</a> and <a href="#tmpipeline">Table Maker</a> pipelines.</p>
<p>Note that the contents of this folder is for QA and production purposes. Please use the <code>PIP_Data_Testing</code> directory,
or your own personal testing directory, if you intend to test code changes in <code>{pipdp}</code> or <code>{pipaux}</code>.</p>
<div id="aux" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> _aux<a href="folder-structure.html#aux" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>_aux</code> folder contains the auxiliary data used by the <a href="pcpipeline.html#pcpipeline">Poverty Calculator Pipeline</a> and the <code>{pipdp}</code> and <code>{pipapi}</code> packages.</p>
<p>Please note the following:</p>
<ol style="list-style-type: decimal">
<li>The file <code>sna/NAS special_2021-01-14.xlsx</code> is currently hardcoded in <code>{pipaux}</code>. If the contents of the file changes this package might need to be updated.</li>
<li>Some other National Accounts special cases (e.g. BLZ, VEN) are manually hardcoded in pipaux. Beware of this when updating GDP/PCE.</li>
<li>The file <code>weo/weo_&lt;YYYY-MM-DD&gt;.xls</code> needs to be manually downloaded from IMF, opened and then re-saved as <code>weo_&lt;YYYY-MM-DD&gt;.xls</code>.</li>
<li>The grouped data means currently come from the PovcalNet Masterfile. This should be changed when PovcalNet goes out of production.</li>
</ol>
<p>An explanation of each subfolder is given below.</p>
<table style="width:100%;">
<colgroup>
<col width="18%" />
<col width="37%" />
<col width="31%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Folder</th>
<th align="left">Measure</th>
<th align="left">Usage</th>
<th align="left">Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">countries</td>
<td align="left">PIP country list</td>
<td align="left">pipapi</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">country_list</td>
<td align="left">WDI country list</td>
<td align="left">pipaux, PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">cp</td>
<td align="left">Country profiles</td>
<td align="left">pipai</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">cpi</td>
<td align="left">CPI</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">dlw</td>
<td align="left">DLW repository</td>
<td align="left">pipdp</td>
<td align="left">pipdp</td>
</tr>
<tr class="even">
<td align="left">gdm</td>
<td align="left">Grouped data means</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">gdp</td>
<td align="left">Gross Domestic Product</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">maddison</td>
<td align="left">Maddison Project Data</td>
<td align="left">pipaux</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">indicators</td>
<td align="left">Indicators master</td>
<td align="left">pipapi, PC pipeline</td>
<td align="left">Manual, pipaux</td>
</tr>
<tr class="even">
<td align="left">pce</td>
<td align="left">Private consumption</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">pfw</td>
<td align="left">Price Framework</td>
<td align="left">pipdp, PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">pl</td>
<td align="left">Poverty Lines</td>
<td align="left">pipapi</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="left">Population</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">ppp</td>
<td align="left">Purchasing Power Parity</td>
<td align="left">PC pipeline</td>
<td align="left">pipaux</td>
</tr>
<tr class="odd">
<td align="left">regions</td>
<td align="left">Regions</td>
<td align="left">pipapi</td>
<td align="left">pipaux</td>
</tr>
<tr class="even">
<td align="left">sna</td>
<td align="left">Special National Account cases</td>
<td align="left">pipaux</td>
<td align="left">Manual</td>
</tr>
<tr class="odd">
<td align="left">weo</td>
<td align="left">World Economic Outlook (GDP)</td>
<td align="left">pipaux</td>
<td align="left">IMF, pipaux</td>
</tr>
</tbody>
</table>
<p>The data in the folders <code>countries</code>, <code>regions</code>, <code>pl</code>, <code>cp</code> and <code>indicators</code> are loaded into the Poverty Calculator pipeline,
but that they are not used for any calculations or modified in any way, when being parsed through the pipeline.
They are thus only listed with <code>{pipapi}</code> as their usage.</p>
<p>In contrast the measures CPI, GDP, PCE, POP and PPP are both used in the pre-calculations and transformed before
being saved as pipeline outputs. So even though these measures are also available in the PIP PC API, the files at this stage
only have the Poverty Calculator pipeline as their use case.</p>
</div>
<div id="inventory" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> _inventory<a href="folder-structure.html#inventory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>_inventory</code> folder contains the PIP inventory file created by <code>pipload::pip_update_inventory()</code>. It is important to update this file if the survey data
has been updated.</p>
</div>
<div id="country-data" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Country data<a href="folder-structure.html#country-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The folders with country codes as names, e.g <code>AGO</code>, contain survey data for each country. This is created by <code>{pipdp}</code>.
The folder structure within each country folder follows roughly the same convention as used by DLW.</p>
<p>There will be one data file for each survey, based on DLW’s <code>GMD</code> module and the grouped data in the PovcalNet-drive. These are labelled with PC in
their filenames. Additionally, if there is survey data available from DLW’s <code>ALL</code> module there will also be a dataset for the Table Maker,
labelled with TB.</p>
</div>
</div>
<div id="pip-data_extsol" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> PIP-Data_ExtSOL<a href="folder-structure.html#pip-data_extsol" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This folder is for external SOL application. This is the folder where the data for the externa SOL will be synced between the network drive and the storage in Azure. The synchronization will be done daily from the ITS side. There are two subfolders GMD-DLW and HFPS-COVID19.</p>
<ul>
<li>GMD-DLW: it is the folder for GMD data for both raw and harmonized GMD data.</li>
<li>HFPS-COVID19: it is the folder for High Frequent Phone Survey data for both raw and harmonized data.</li>
</ul>
<p>The structured folders for these two catalogs are standard likes the ones used in DLW system.</p>
<p>There are dofiles on the synchronization between GMD in DLW and GMD in SOL. Those files are “Data in SOL.xlsx” and “Convert GMD to GMD SOL.do”. Only data with clear and explicit data license will be uploaded in this folder.</p>
<p>For now, only “public data” is in this application. Public means any users can download and redistribute the data, and there is no login in the country NSO website or any condition/terms when downloading the data. Otherwise, there is an explicit agreement with NSO on the usage of the data for SOL – email: Microdata for an external Statistics Online (SOL) platform.</p>
<p>At the moment, we are working with Legal on the Custom license for the data license template where SOL will be mentioned explicitly. Once the Custom license is developed (after the launch of SOL) we can reach out to all countries to ask for permission to use and “limited redistribute” in the data in our secured platform.</p>
<div class="rmdbox rmdwarning">
<p>Please do not touch or change any content in this folder without permission</p>
</div>
</div>
<div id="pip_data_testing" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> PIP_Data_Testing<a href="folder-structure.html#pip_data_testing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This folder is used as a testing directory for development of the <code>{pipdp}</code> and <code>{pipaux}</code> packges.</p>
</div>
<div id="pip_data_vintage" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> PIP_Data_Vintage<a href="folder-structure.html#pip_data_vintage" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span style="color:red">This folder is currently not in use</span>.</p>
</div>
<div id="pip_ingestion_pipeline" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> pip_ingestion_pipeline<a href="folder-structure.html#pip_ingestion_pipeline" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This is the main output directory for the both the <a href="pcpipeline.html#pcpipeline">Poverty Calculator</a> and <a href="#tmpipeline">Table Maker</a> pipelines.</p>
<div id="pc_data" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> pc_data<a href="folder-structure.html#pc_data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<thead>
<tr class="header">
<th align="left">Folder</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">_targets</td>
<td align="left">Targets storage</td>
</tr>
<tr class="even">
<td align="left">cache</td>
<td align="left">Cleaned survey data</td>
</tr>
<tr class="odd">
<td align="left">output</td>
<td align="left">PC pipline output directory</td>
</tr>
<tr class="even">
<td align="left">validation</td>
<td align="left">Validation directory</td>
</tr>
</tbody>
</table>
<div id="targets" class="section level4 hasAnchor" number="3.6.1.1">
<h4><span class="header-section-number">3.6.1.1</span> _targets<a href="folder-structure.html#targets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This folder contains the objects that are cached by <code>{targets}</code> when the <a href="pcpipeline.html#pcpipeline">Poverty Calculator Pipeline</a> is run. It is located on the
shared network drive so that the latest cached objects are available to all team members. Please note however that a shared <code>_targets</code> folder
does entail some risks. <strong>It is very important that only one person runs the pipeline at a time.</strong> Concurrent runs against the same <code>_targets</code> store will
wreak havoc. And needless to say; if you are developing new features or customising the pipeline use a different <code>_targets</code> store.
(<span style="color:red">We should probably have a custom DEV or testing folder for this, similar to PIP_Data_Testing</span>.)</p>
</div>
<div id="cache" class="section level4 hasAnchor" number="3.6.1.2">
<h4><span class="header-section-number">3.6.1.2</span> cache<a href="folder-structure.html#cache" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The survey data output of <code>{pipdp}</code> cannot be directly used as input to the <a href="pcpipeline.html#pcpipeline">Poverty Calculator Pipeline</a>. This is because the data needs to be cleaned
before running the necessary pre-calculations for the PIP database. The cleaning currently includes removal of rows with missing welfare and weight values,
standardising of grouped data, and restructuring of datasets with both income and consumption based welfare values in the same survey.
Please refer to <code>{wbpip}</code> and <code>{pipdm}</code> for the latest cleaning procedures.</p>
<p>In order to avoid doing this cleaning every time the pipeline runs an intermediate version of the survey data is stored in the <code>cache/clean_survey_data/</code> folder.
Please make sure this folder is up-to-date before running the <code>_targets.R</code> pipeline.</p>
<p><span style="color:red">Note: This is not exactly true. We need to solve the issue with the double caching of survey data. But the essence of what we want to accomplish is to avoid
cleaning and checking the survey data in every pipeline run.</span>.</p>
</div>
<div id="output" class="section level4 hasAnchor" number="3.6.1.3">
<h4><span class="header-section-number">3.6.1.3</span> output<a href="folder-structure.html#output" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This folder contains the outputs of the <a href="pcpipeline.html#pcpipeline">Poverty Calculator Pipeline</a>. This is seperated into three subfolders; <code>aux</code> containing the
auxiliary data, <code>estimations</code> containing the survey, interpolated and distributional pre-calculated estimates, and <code>survey_data</code> containing
the cleaned survey data.</p>
</div>
<div id="validation" class="section level4 hasAnchor" number="3.6.1.4">
<h4><span class="header-section-number">3.6.1.4</span> validation<a href="folder-structure.html#validation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TBD <span style="color:red">Andres: Could you write this section?</span>.</p>
</div>
</div>
<div id="tb_data" class="section level3 hasAnchor" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> tb_data<a href="folder-structure.html#tb_data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TBD <span style="color:red">Andres: Could you write this section?</span>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="internal-workflow.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="joining-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PIP-Technical-Team/PIPmanual/edit/master/Folder_structure.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PIPmanual.pdf", "PIPmanual.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
