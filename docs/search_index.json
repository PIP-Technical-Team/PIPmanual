[["auxiliary-data.html", "Chapter 5 Auxiliary data 5.1 Population 5.2 National Accounts 5.3 CPI 5.4 PPP 5.5 Price FrameWork (PFW)", " Chapter 5 Auxiliary data As it was said in Section 2.3, auxiliary data is the data used to temporally deflate and line up welfare data, with the objective of getting poverty estimates comparable over time, across countries, and, more importantly, being able to estimate regional and global estimates. Yet, auxiliary data also refers to metadata with functional and qualitative information. Functional information is such that is used in internal calculations such as time comparability or surveys availability. Qualitative information is just useful information that does not affect, neither depend on, quantitative data. It is primary collected and made available for the end user. As explain in Chapter 3, all auxiliary data is stored in \"y:/PIP-Data/_aux/\". ## y:/PIP-Data/_aux/ ## +-- country_list ## +-- cpi ## +-- dlw ## +-- gdm ## +-- gdp ## +-- maddison ## +-- pce ## +-- pfw ## +-- pop ## +-- ppp ## +-- sna ## \\-- weo The naming convention of subfolders inside the _aux directory is useful because auxiliary data is commonly referred to in all technical processes by its convention rather than by it actual name. For instance Gross Domestic Product or Purchasing Power Parity are better known as gdp and ppp, respectively. Yet, other measures such as national population or consumption also make use of conventions. In this chapter you will learn everything related to each of the files that store auxiliary data. Notice that the chapter is structured by files rather than by measures or types of auxiliary data because you may find more than one measure in one file. The R package that manages auxiliary data is {pipaux}. As explained in Chapter 3, within the folder of each auxiliary file, you will find, at a minimum, a _vintage folder, one xxx.fst, one xxx.dta file, and one xxx_datasignature.txt , where xxx stands for the name of the file. 5.1 Population 5.1.1 Original data Everything related to population data should be placed in the folder y:\\PIP-Data\\_aux\\pop\\. hereafter (./). The population data come from one of two different sources. WDI or an internal file provided by a member of the DECDG team. Ideally, population data should be downloaded from WDI, but sometimes the most recent data available has not been uploaded yet, so it needs to be collected internally in DECDG. As of now (July 12, 2021), the DECDG focal point to provide the population data is Emi Suzuki. You just need to send her an email, and she will provide the data to you. If the data is provided by DECDG, it should be stored in the folder ./raw_data. The original excel file must be placed without modification in the folder ./raw_data/original. Then, the file is copied again one level up into the folder ./raw_data with the name population_country_yyyy-mm-dd.xlsx where yyyy-mm-dd refers to the official release date of the population data. Notice that for countries PSE, KWT and SXM, some years of population data are missing in the DECDG main file and hence in WDI. Here we complement the main file with an additional file shared by Emi to assure complete coverage. This file contains historical data and will not need to be updated every year. This additional file has the name convention population_missing_yyyy-mm-dd.xlsx and should follow the same process as the population_country file. Once all the files and their corresponding place, you can update the ./pop.fst file by typing pipaux::pip_pop_update(src = \"decdg\"). If the data comes directly from WDI, you just need to update the file ./pop.fst by typing pipaux::pip_pop_update(src = \"wdi\"). It is worth mentioning that the population codes used in WDI are SP.POP.TOTL, SP.RUR.TOTL, and SP.URB.TOTL, which are total population, rural population, and urban population, respectively. If it is the case that PIP begins using subnational population, a new set of WDI codes should be added to the R script in pipaux::pip_pop_update(). 5.1.2 Data structure Population data is loaded by typing either pipload::pip_load_aux(\"pop\") or pipaux::pip_pop(\"load\"). We highly recommend the former, as {pipload} is the intended R package for loading any PIP data. pop &lt;- pipload::pip_load_aux(&quot;pop&quot;) ## v Most recent version of data loaded ## &#39;//w1wbgencifs01/pip/PIP-Data_QA/_aux/pop/pop.fst&#39; head(pop) ## country_code year pop_data_level pop pop_domain ## 1: ABW 1960 national 54211 national ## 2: ABW 1960 rural 26685 urban/rural ## 3: ABW 1960 urban 27526 urban/rural ## 4: AFG 1960 national 8996973 national ## 5: AFG 1960 rural 8241137 urban/rural ## 6: AFG 1960 urban 755836 urban/rural 5.2 National Accounts National accounts account for the economic development of a country at an aggregate or macroeconomic level. These measure are thus useful to interpolate or extrapolate microeconomic measures mean welfare aggregate or poverty headcount when household surveys are not available. National accounts work as a proxy of the economic development that would have been present if household surveys were available. There are two main types of national accounts, Household Final Consumption Expenditure (HFCE) and Gross Domestic Product (GDP)both in real per capita terms. Please refer to Section 5.3 of (World Bank 2021) to understand the usage of national accounts data. 5.2.1 GDP As explained in Section 5.3 of (World Bank 2021), there are three sources of GDP data, and one more for a few particular cases. The integration of all the sources of GDP data is performed by pipaux::pip_gdp_update(), youll need to manually download and store the data from WEO and the data for the special cases. The most recent version of the WEO data most be downloaded from the World Economic Outlook Databases of the IMF.org website and saved as an .xls file in &lt;maindir&gt;/_aux/weo/. The filename should be in the following structure WEO_&lt;YYYY-DD-MM&gt;.xls. Due to potential file corruption the file must be opened and re-saved before it can be updated with pip_gdp_weo(), which is an internal function fo pipaux::pip_gdp_update(). Hopefully in the future IMF will stop using an `.xls` file thats not really xls. Note: explanation of special cases provided by Samuel. 5.2.2 Consumption (PCE) Private Consumption Expenditure (pce) is gathered from WDI, with the exception of a few special cases. As in the case of GDP, the special cases are treated in the same way with PCE. You only need to execute the function pipaux::pip_pce_update() to update the PCE data. 5.3 CPI 5.3.1 Raw data Note: Minh to explain how the CPI data is collected and organized in the dlw folders. 5.3.2 Vintage control Vintage control of the CPI data comes in a similar fashion as welfare data, CPI_vXX_M_vXX_A, where vXX_M refers to the version of the master or raw data, and vXX_A refers to the alternative version. Every year, around November-December, PIP CPI data is updated with the most recent version of the IMF CPI data, which comes with information for the most recent year available and with changes/fixes/additions of previous years for each country. When this happens, the master version of the CPI ID is increased in one unit before the data is saved. As of today, the current ID is CPI_v05_M_v01_A. If data is modified during the rolling of the year, then the alternative version of the CPI ID is increased in one unit. 5.3.3 Data structure When you load CPI data using pipload::pip_load_aux(\"cpi\"), the data you get has already been cleaned for being use in the PIP workflow, and it is slightly different from the original CPI data stored in datalibweb servers. That is, the way CPI data is used and referred to datalibweb is different from the way it is used in PIP even though they both achive the same purpose. The most important variable in CPI data is, no surprisingly, cpi. This variable however, is not available in the original CPI data from dlw. The original name of this variable comes in the form cpiYYYY, where YYYY refers to the base year of the CPI, which in turn depends on the collection year of the PPP. Today, this variable is thus cpi2011. The name of this variable is stored in the pipaux.cpivar object in the zzz.R file of the {pipaux} package. This will supdate the option getOption(\"pipaux.cpivar\"), guaranteing that pipaux::pip_cpi_update() uses the right variable when updating the CPI data. Another important variable in CPI dataframe is change_cpiYYYY, where YYYY stands for the base year of the CPI. Since it version control of the CPI data does not depend on the individual changes in the CPI series of each country but on the release of new data by the IMF or by additional modifications by the Poverty GP, variable change_cpiYYYY tracks changes in the CPI at the country/year/survey with respect to the previous version. This is very useful when you need to identify changes in output measures like poverty rates that depend on deflation. One possible source of difference is the CPI and this variable will help you identify whether the number of interest has change because the CPI has changed. 5.4 PPP 5.4.1 Original data Note: Minh to explain how the PPP data is collected and organized in the dlw folders. The name of the variables in the wide-format file will follow this structure, ppp_YYYY_vX_vY. Where, YYYY: refers to the ICP round. vX:     refers to the version of the release. vY:    refers to the adaptation of the release. So, v1 will be the original data, whereas v2 would be the first adaptation or estimates of the release. 5.4.2 Data structure PPP data is available by typing, pipload::pip_load_aux(\"ppp\"). As expected, the data you get has already been cleaned for being use in the PIP workflow, and it is slightly different from the original PPP data stored in datalibweb servers. The most important difference between the PIP data frame and the datalibweb data frame is its rectangular structure. PIP data is in long format, whereas datalibweb data in wide format. The reason for having PPP data in long format in PIP is that some countries, very few, use a different PPP year than the rest of the countries. Instead of using a different variable for the calculations of those specific countries, we use the same variable for all the countries but filter the corresponding observations for each country using metadata from the Price Framework database. The PPP data is at the country/ppp year/data_level/release version/adapation version level. Yet, several filters most always be applied before this data can be used. Ultimately, the data frame should be at the country/data_level level to used properly. As a general rule, the filter must be done by selecting the most recent release_version and the most recent adaptation_version in each year. Then you can just filter by the PPP year you want to work with. In order to make this process even easier we have created variables ppp_default and ppp_default_by_year, which dummy variables to filter data. If you keep all observations that ppp_default == 1 you will get the current PPP used for all PIP calculations. If you use ppp_default_by_year == 1, you get the default version used in each PPP year. This is useful in case you want to make comparisons between PPP releases. This two variables are created in function pipaux::pip_ppp_clean() , in particular in these lines. 5.5 Price FrameWork (PFW) blah 5.5.1 Original data References "]]
